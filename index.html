<!doctype html>
<html>
	<head profile="http://www.w3.org/2005/10/profile">
		<meta charset="utf-8">
		<title>TA3 Age Estimation</title>
		<link rel="stylesheet" href="assets/css/bootstrap.min.css">
		<link rel="stylesheet" href="assets/css/index.css">
		<!-- <link rel="stylesheet" href="assets/css/bootstrap-toc.min.css" /> -->
	</head>
	<body>
		
		<div class="container-fluid">

			<div id="generic-alert" class="alert" role="alert"></div>

			<div id="first-run-screen" class="screen" style="display:none;">
				<div class="row">
					<div class="col-xs-8 col-xs-offset-2 text-center">
						<h1>Welcome to <span class="app-name"></span></h1>
						<p class="small">Before you can begin using this analysis tool, we need to configure a few things first.</p>
						<p class="small"><strong>Note: </strong> This may take several minutes to complete.</p>
					</div>
				</div>
				<div class="row">
					<div class="col-xs-8 col-xs-offset-2">
						<div class="panel panel-default">
							<div class="panel-body">
								<div id="setup-r" class="setup-item">
									<div class="row">
										<div class="col-xs-10 text-left">
											<span class="setup-item-name">1) R (v3.6.2)</span>
										</div>
										<div class="col-xs-2 text-right">
											<span class="setup-item-status"></span>
										</div>
									</div>
									<div class="pb row">
										<div class="col-xs-12">
											<div class="progress">
												<div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width:0%;">
													<span class="sr-only">0% Complete</span>
												</div>
											</div>
										</div>
									</div>
									<div class="err row" style="display:none;">
										<div class="col-xs-12">
											<pre></pre>
										</div>
									</div>
								</div>

								<div id="setup-packages" class="setup-item">
									<div class="row">
										<div class="col-xs-10 text-left">
											<span class="setup-item-name">2) Required R packages <span class="setup-item-package"></span>
										</div>
										<div class="col--xs-2 text-right">
											<span class="setup-item-status">0 of 5</span>
										</div>
									</div>
									<div class="pb row">
										<div class="col-xs-12">
											<div class="progress">
												<div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width:0%;">
													<span class="sr-only">0% Complete</span>
												</div>
											</div>
										</div>
									</div>
									<div class="err row" style="display:none;">
										<div class="col-xs-12">
											<pre></pre>
										</div>
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p class="text-center">
											<strong>Note: </strong> You may be asked to approve changes a few times during this process.<br />
											This is required to configure <span class="app-name"></span>.
										</p>
										<div id="setup-error-log" style="display:none;">
											<div class="col-xs-12">
												<pre></pre>
											</div>
										</div>
									</div>
								</div>
								
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-xs-8 col-xs-offset-2 text-center">
						<button id="setup-start" class="btn btn-lg btn-success">Get Started</button>
					</div>
				</div>
			</div>

			<div id="welcome-screen" class="screen" style="display:none;">
				<div class="row">
					<div class="col-xs-12 text-center">
						<h1><span class="app-name"></span><br />(TA3)</h1>
						<h4>Version: <span id="current-version"></span></h4>
					</div>
				</div>
				<div class="row">
					<div class="col-xs-4 text-center">
						<img src="assets/img/psu.jpg" width="196" height="200" class="img-responsive center-block" />
					</div>
					<div class="col-xs-4 text-center">
						<img src="assets/img/usd.jpg" width="201" height="200" class="img-responsive center-block" />
					</div>
					<div class="col-xs-4 text-center">
						<img src="assets/img/ut.jpg" width="146" height="200" class="img-responsive center-block" />
					</div>
				</div>
				<div class="row">
					<div class="col-xs-4 text-center">
						<h4>George R. Milner</h4>
						<h4>Sara M. Getz</h4>
					</div>
					<div class="col-xs-4 text-center">
						<h4>Jesper L. Boldsen</h4>
						<h4>Svenja Weise</h4>
					</div>
					<div class="col-xs-4 text-center">
						<h4>Stephen D. Ousley</h4>
						<h4>Peter Tarp</h4>
					</div>
				</div>
				<div class="row">
					<div class="col-xs-4 text-center">
						<p>
							<a id="welcome-new-case" class="btn btn-lg btn-primary">Start New Case</a>
						</p>
					</div>
					<div class="col-xs-4 text-center">
						<img src="assets/img/nij.jpg" width="200" height="200" class="img-responsive center-block" />
					</div>
					<div class="col-xs-4 text-center">
						<p>
							<a id="welcome-load-case" class="btn btn-lg btn-primary">Load Analysis</a>
						</p>
					</div>
				</div>
			</div>

			<div id="case-screen" class="screen" style="display:none;">
				<div id="config-error-message" class="row" style="display:none;">
					<div class="col-xs-12">
						<div class="alert alert-danger" role="alert">
							Configuration settings are invalid or missing. <a data-toggle="modal" href="#settings-modal">Click here</a> to update your settings.
						</div>
					</div>
				</div>
				<div id="offline-error-message" class="row" style="display:none;">
					<div class="col-xs-12">
						<div class="alert alert-warning" role="alert">
							You are currently working offline. 
						</div>
					</div>
				</div>
				<div class="row">
					<div id="col-menu" class="col-xs-3">
						<div id="section-menu" class="panel-group" role="tablist" aria-multiselectable="true"></div>
						<p class="text-center center-block">
							<button id="analysis-button" class="btn btn-primary">Check Analysis</button>
						</p>
						<hr />
						<div class="text-center center-block">
							<div class="btn-group" role="group">
								<button id="reset-button" class="reset-button btn btn-success">New</button>
								<button id="load-case" class="btn btn-success">Open</button>
								<button id="save-button" class="save-button btn btn-success" data-toggle="modal" data-target="#save-modal">Save</button>
							</div>
						</div>
						<hr />
						<p class="text-center center-block">
							<button id="settings-button" class="settings-button btn btn-warning" data-toggle="modal" data-target="#settings-modal">Settings</button>
						</p>
					</div>
	
					<div id="col-content" class="col-xs-9">
						<ul id="main-tabs" class="nav nav-tabs" role="tablist">
							<li role="presentation">
								<a href="#caseinfo" aria-controls="caseinfo" role="tab" data-toggle="tab">Case Info <span id="current_file_name"></span><span id="current_file_status"></span></a>
							</li>
							<li role="presentation" class="active">
								<a href="#evaluation" aria-controls="evaluation" role="tab" data-toggle="tab">Evaluation</a>
							</li>
							<li role="presentation">
								<a href="#selections" aria-controls="selections" role="tab" data-toggle="tab">Selections</a>
							</li>
							<li role="presentation">
								<a href="#results" aria-controls="results" role="tab" data-toggle="tab">Results</a>
							</li>
							<li role="presentation">
								<a href="#charts" aria-controls="charts" role="tab" data-toggle="tab">Plots</a>
							</li>
						</ul>
	
						<div class="tab-content">
							
							<div role="tabpanel" class="tab-pane" id="caseinfo">
								<fieldset>
									<div class="form-group">
										<label for="case_number_input">Case #</label>
										<input type="textbox" id="case_number_input" class="form-control dirtyable" />
									</div>
									<div class="form-group">
										<label for="designation_input">Individual Designation</label>
										<input type="textbox" id="designation_input" class="form-control dirtyable" />
									</div>
									<div class="form-group">
										<label for="recorder_input">Recorder</label>
										<input type="textbox" id="recorder_input"  class="form-control dirtyable" />
									</div>
									<div class="form-group">
										<label for="date_input">Observation Date</label>
										<input type="textbox" id="date_input" class="form-control dirtyable" />
									</div>
									<div class="form-group">
										<label for="notes_input">Notes</label>
										<textarea id="notes_input" rows="8" cols="50" class="form-control dirtyable"></textarea>
									</div>
								</fieldset>
								<!-- <p>
									<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
									<button id="save-analysis-button" type="button" class="btn btn-primary" data-dismiss="modal">Save Analysis</button>
								</p> -->
							</div>
	
							<div role="tabpanel" class="tab-pane active" id="evaluation">
								<div id="evaluation-content-empty" style="display:none;">
									<h3>Select a section from the left to access the trait scoring.</h3>
								</div>
								<div id="evaluation-content" style="display:none;">
									<nav id="trait-pager" aria-label="Section Traits">
										<ul class="pager">
											<li class="previous"><a href="#"><span aria-hidden="true">&larr;</span> Previous</a></li>
											<li class="next"><a href="#">Next <span aria-hidden="true">&rarr;</span></a></li>
										</ul>
									</nav>
	
									<div id="trait-content">
	
										<div id="trait-score-basic" class="entry-mode">
											<div class="container-fluid">
												<div class="row trait-header">
													<div class="col-xs-8">
														<h4 id="trait-title"></h4>
														<h6 id="trait-description"></h6>
													</div>
													<div class="col-xs-4" class="text-right">
														<div id="trait-images"></div>
													</div>
												</div>
												<div class="row">
													<div class="col-xs-12">
														<p id="trait-location"></p>
														<p id="trait-notes"></p>
													</div>
												</div>
												<div class="row">
													<div id="trait-scores"></div>
												</div>
											</div>
										</div>
	
										<div id="trait-score-advanced"  class="entry-mode">
											<div class="container-fluid">
												<div id="advanced-mode-list"></div>
												<!-- <div id="advanced-mode-template" class="template">
													<div class="row adv-row">
														<div class="col-xs-4">
															<strong><span class="adv-trait-name"></span></strong>
														</div>
														<div class="adv-col-0 col-xs-2">
															<input type="radio" class="adv-radio adv-radio-0" /> <label class="adv-label-0"></label>
														</div>
														<div class="adv-col-1 col-xs-2">
															<input type="radio" class="adv-radio adv-radio-1" /> <label class="adv-label-1"></label>
														</div>
														<div class="adv-col-2 col-xs-2">
															<input type="radio" class="adv-radio adv-radio-2" /> <label class="adv-label-2"></label>
														</div>
														<div class="adv-col-3 col-xs-2">
															<input type="radio" class="adv-radio adv-radio-3" /> <label class="adv-label-3"></label>
														</div>
													</div>
												</div> -->
											</div>
										</div>
	
										<!-- <div id="trait-score-expert" class="entry-mode">
											Expert mode
										</div> -->
									</div>
								</div>
							</div>
	
							<div role="tabpanel" class="tab-pane" id="selections">
								<h2>Current Case Selections</h2>
								<div id="current-selections"></div>
								
								<hr />
	
								<div class="text-center center-block">
									<button id="analysis-review-button" class="btn btn-lg btn-primary analysis-button">Run Analysis</button> 
									<button id="reset-button" class="reset-button btn btn-lg btn-danger">Reset</button>
								</div>
							</div>
	
							<div role="tabpanel" class="tab-pane" id="results">
								<div id="result-status"></div>
								<div id="result-loading">
									<p class="text-center center-block">
										<img src="assets/img/loading.gif" class="img-responsive center-block" width="50" height="50" />
									</p>
								</div>
								<div id="result-debug"></div>
								<div id="result-output"></div>
							</div>
	
							<div role="tabpanel" class="tab-pane" id="charts">
								<div id="result-images"></div>
							</div>
	
						</div>
					</div>
				</div>
			</div>
		</div>


		<div id="user-guide-modal" class="modal fade" tabindex="-1" role="dialog">
			<div class="modal-dialog modal-lg" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title" data-toc-skip>User Guide</h4>
					</div>
					<div class="modal-body">
						<div class="row toc" id="toc-top">
							<div class="col-xs-3" data-spy="affix" data-offset-top="60" data-offset-bottom="200">
								<h4 data-toc-skip>Table of Contents</h4>
								<nav id="toc">
									<ul>
										<li><a href="#toc-requirements">Requirements</a></li>
										<li>
											<a href="#toc-usage">Usage</a>
											<ul>
												<li><a href="#toc-basic-mode">Basic Mode</a></li>
												<li><a href="#toc-advanced-mode">Advanced Mode</a></li>
											</ul>
										</li>
									</ul>
								</nav>
							</div>
							<div class="col-xs-9">
								<article>
									<h4 id="toc-requirements">Requirements</h4>
									<p>
										A computer running Microsoft Windows 7 or higher, or Mac OSX.
									</p>
									<p>
										R must be installed to utilize the features of TA3. To download R, visit the <a id="toc-r-download-link">R download page</a> and install the "base" version. <span id="toc-mac-warning"></span>Please note that in order to use the latest version of R on a Mac, you must be running version 10.6 or higher. Your version of MacOS is: <span id="toc-mac-version"></span>.</span>
									</p>
									<p>
										Once R is installed, restart TA3 and configure the application settings.
									</p>
									<a href="#toc-top" class="small pull-right">Back to Top</a>
								</article>

								<article>
									<h4 id="toc-usage">Usage</h4>

									<h5 id="toc-basic-mode">Basic Entry Mode</h5>
									<p>In Basic Mode, you will open on the "Evaluation" tab and see " Select a section from the left to access the trait scoring". Each area of the skeleton for scoring is displayed on the left.</p>

									<h5 id="toc-advanced-mode">Advanced Entry Mode</h5>
									<p></p>

									<h5 id="toc-analysis">Analyzing Data</h5>
									<p>
										Click on the "Check Analysis" button on the left. You will be presented with "Current Case Selections", showing all the traits you scored and their scores. Click "Run Analysis" to start the Analysis.
									</p>
									<p>
										After the analysis is finished you will see a text summary on the Results tab, including the traits scored, sample size, the point estimate and lower and upper bounds on the 95% prediction interval.
									</p>

									<a href="#toc-top" class="small pull-right">Back to Top</a>
								</article>
							</div>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div>
				</div>
			</div>
		</div>




		<div id="settings-modal" class="modal fade" tabindex="-1" role="dialog">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title">User Settings</h4>
					</div>
					<div class="modal-body">
						<form id="settings-form">
							<!-- <div class="form-group">
								<label for="rscript_file_input">Rscript.exe Executable Path</label>
								<p class="small">Don't have R installed? Visit the <a id="r-download-link" href="">R download page</a>.</p>
								<input type="file" id="rscript_file_input">
								<p class="help-block">
									Choose the path to the Rscript.exe file<br />
									<strong>Currently:</strong> <span id="settings-rscript-path"></span>
								</p>
								<p class="help-block">
									Suggested locations on your computer:<br />
									<span id="settings-found-rscript"></span>
								</p>
							</div> -->
							<div class="form-group">
								<label for="settings_entry_mode">Trait Scoring Entry Mode</label>
								<div class="radio">
									<label>
										<input type="radio" id="entry_mode_basic" name="settings_entry_mode" value="basic" />
										Basic Scoring Mode (full pictures and descriptions)
									</label>
								</div>
								<div class="radio">
									<label>
										<input type="radio" id="entry_mode_advanced" name="settings_entry_mode" value="advanced" />
										Advanced Scoring Mode (text only selections)
									</label>
								</div>
								<!-- <div class="radio">
									<label>
										<input type="radio" id="entry_mode_expert" name="settings_entry_mode" value="expert" />
										Expert Scoring Mode (numerical entry)
									</label>
								</div> -->
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
						<button id="save-setting-button" type="button" class="btn btn-primary" data-dismiss="modal">Save</button>
					</div>
				</div>
			</div>
		</div>



		<div id="trait-score-template" class="template" style="display:none;">
			<h3>
				<span class="trait-score-title"></span> 
				<!-- <span class="trait-score-description glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip" data-placement="top" title=""></span> -->
			</h3>
			<p class="center-block text-center">
				<button class="trait-score-button btn btn-lg btn-success" data-section-idx="" data-trait-idx="" data-score-idx="">Select</button>
			</p>
			<div id="trait-score-carousel" class="carousel slide center-block" data-interval="false" data-ride="carousel">
				<div class="carousel-inner" role="listbox"></div>
				<a class="left carousel-control" href="#trait-score-carousel" role="button" data-slide="prev">
					<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
					<span class="sr-only">Previous</span>
				</a>
				<a class="right carousel-control" href="#trait-score-carousel" role="button" data-slide="next">
					<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
					<span class="sr-only">Next</span>
				</a>
			</div>
		</div>
	
		<div id="selections-template" class="template" style="display:none;">
			<div class="table-responsive table-hover table-striped">
				<table class="table table-condensed">
					<colgroup>
						<col width="33%" />
						<col width="33%" />
						<col width="33%" />
					</colgroup>
					<thead>
						<tr>
							<th>Section</th>
							<th>Trait</th>
							<th>Score</th>
						</tr>		
					</thead>
					<tbody></tbody>
				</table>
			</div>
		</div>


		<script src="assets/js/app.js"></script>
		<!-- <script src="assets/js/bootstrap-toc.min.js"></script> -->
	</body>
</html>
